---
import '../styles/welcome.css';

// ===== TecnologÃ­as (datos, NO HTML) =====
const technologies = [
  // Frontend
  { name: 'HTML5', group: 'frontend' },
  { name: 'CSS3', group: 'frontend' },
  { name: 'JavaScript', group: 'frontend' },
  { name: 'TypeScript', group: 'frontend' },
  { name: 'React', group: 'frontend' },
  { name: 'React Native', group: 'frontend' },
  { name: 'Astro', group: 'frontend' },
  { name: 'Next.js', group: 'frontend' },
  { name: 'Vue.js', group: 'frontend' },
  { name: 'Tailwind CSS', group: 'frontend' },
  { name: 'Bootstrap', group: 'frontend' },

  // Backend
  { name: 'Node.js', group: 'backend' },
  { name: 'Express.js', group: 'backend' },
  { name: 'NestJS', group: 'backend' },
  { name: 'REST API', group: 'backend' },
  { name: 'GraphQL', group: 'backend' },

  // Bases de datos
  { name: 'MongoDB', group: 'database' },
  { name: 'MySQL', group: 'database' },
  { name: 'PostgreSQL', group: 'database' },
  { name: 'Redis', group: 'database' },
  { name: 'DynamoDB', group: 'database' },
  { name: 'RDS', group: 'database' },

  // Cloud & DevOps
  { name: 'AWS', group: 'cloud' },
  { name: 'Docker', group: 'cloud' },
  { name: 'Kubernetes', group: 'cloud' },
  { name: 'Terraform', group: 'cloud' },
  { name: 'CI/CD', group: 'cloud' },
  { name: 'Git', group: 'cloud' },
  { name: 'GitHub Actions', group: 'cloud' },
];

// Mapa de categorÃ­as para renderizar cuadros automÃ¡ticamente
const techCategories = [
  { key: 'frontend', title: 'Frontend' },
  { key: 'backend', title: 'Backend' },
  { key: 'database', title: 'Bases de datos' },
  { key: 'cloud', title: 'Cloud & DevOps' },
];

// ===== Proyectos =====
const projects = [
  {
    emoji: 'ðŸ¶',
    title: 'ReskU',
    type: 'UX/UI',
    description: 'App de adopciÃ³n de animales con chatbot, filtros y seguimiento de solicitudes.',
    tags: ['DiseÃ±o en Figma'],
    repo: 'https://www.figma.com/proto/zRRG3wGl8bQdj8IUotYcvx/ReskU-App?node-id=83-15498&t=uqVeWvcNg71R8BTI-1&scaling=scale-down&content-scaling=fixed&page-id=0%3A1&starting-point-node-id=83%3A15498'
  },
  {
    emoji: 'ðŸŒ±',
    title: 'Raices Eternas',
    type: 'Proyecto propio',
    description: 'Aplicativo Web de cÃ¡psula del tiempo para familiares de fallecidos.',
    tags: ['Vue', 'Vite', 'TypeScript'],
    repo: 'https://github.com/Miussette/raices-eternas'
  },
  {
    emoji: 'ðŸ§ ',
    title: 'BreezaAI',
    type: 'Hackathon',
    description: 'CompaÃ±ero de bienestar con micro-lecciones, respiraciÃ³n y planes semanales.',
    tags: ['React', 'Node', 'RAG'],
    repo: 'https://github.com/Miussette/breezaai',
    demo: 'https://breeza-ai-frontend.onrender.com'
  },
  {
    emoji: 'ðŸ¤–',
    title: 'Kora',
    type: 'Hackathon',
    description: 'Asistente de respuesta a desastres con modelos OSS e indexaciÃ³n de protocolos.',
    tags: ['Next.js', 'TypeScript', 'Ollama'],
    repo: 'https://github.com/Miussette/kora'
  },
  {
    emoji: 'ðŸ›’',
    title: 'greenelectronics.cl',
    type: 'Freelance',
    description: 'E-commerce de electrÃ³nica con panel admin y conexiÃ³n a proveedores.',
    tags: ['Next.js', 'MongoDB', 'API Routes'],
    repo: 'https://github.com/Miussette/greenelectronics'
  },
  {
    emoji: 'ðŸ›°ï¸',
    title: 'SentIA',
    type: 'Proyecto propio',
    description: 'App de bienestar y seguimiento emocional (web) con flujos guiados.',
    tags: ['APEX Oracle'],
    repo: 'https://github.com/Miussette/sentia'
  },
  {
    emoji: 'ðŸ–¥ï¸',
    title: 'Star Wars Fans',
    type: 'AcadÃ©mico',
    description: 'Sitio fan responsive.',
    tags: ['HTML', 'CSS', 'Vanilla JS'],
    repo: 'https://github.com/CarolaCG/Entrega-Final-SW',
    demo: 'https://sw-proyecto2.vercel.app/'
  },
];

// ===== Helper: mapea tags a grupo de color (para chips) =====
const groupFromTag = (tag: string) => {
  const t = tag.toLowerCase().trim();

  const frontend = ['html','html5','css','css3','javascript','typescript','react','react native','astro','next.js','nextjs','vue','vue.js','tailwind','tailwind css','bootstrap','vite'];
  const backend  = ['node','node.js','express','express.js','nestjs','rest api','graphql','ollama','apex oracle','apex','api routes'];
  const db       = ['mongodb','mysql','postgresql','redis','dynamodb','rds'];
  const cloud    = ['aws','docker','kubernetes','terraform','ci/cd','git','github actions','supabase'];

  if (frontend.includes(t)) return 'frontend';
  if (backend.includes(t))  return 'backend';
  if (db.includes(t))       return 'database';
  if (cloud.includes(t))    return 'cloud';
  return 'neutral';
};
---

<section class="hero">
  <!-- Logo animado -->
  <div class="logo-container">
    <video
      src="/videos/logo-animado.mp4"
      autoplay
      muted
      playsinline
      class="logo-video"
    ></video>
  </div>

  <!-- PresentaciÃ³n profesional -->
  <section class="perfil">
    <img src="/images/mi-foto.png" alt="Foto de perfil" class="foto-perfil" />
    <div class="texto">
      <h1 class="nombre">Miussette Alfaro</h1>
      <h2 class="rol">Desarrolladora FullStack Â· Ingeniera en Conectividad y Redes</h2>
      <p class="descripcion">
        Soy desarrolladora enfocada en crear experiencias digitales accesibles y funcionales. 
        Me especializo en tecnologÃ­as web modernas, aplicaciones mÃ³viles y soluciones en la nube.
      </p>
      <p class="colaboracion">
  En colaboraciÃ³n con <strong>Carola Carrasco</strong> â€“ UI/UX Designer
</p>
    </div>
  </section>

  <!-- TecnologÃ­as en CUADROS por categorÃ­a -->
  <section class="skills-grid">
    {techCategories.map((cat) => (
      <div class="skills-card">
        <h3>{cat.title}</h3>
        <div class="tecnologias">
          {technologies
            .filter((t) => t.group === cat.key)
            .map((t) => (
              <span data-group={cat.key}>{t.name}</span>
            ))}
        </div>
      </div>
    ))}
  </section>

  <!-- Proyectos destacados -->
  <section id="proyectos" class="proyectos-destacados">
    <h2 class="titulo">Proyectos Destacados</h2>

    <div class="grid-proyectos fancy">
      {projects.map((p) => (
        <article class="project-box" data-type={p.type}>
          <header class="project-head">
            <h3 class="project-title">{p.emoji} <strong>{p.title}</strong></h3>
            <span class="project-badge">{p.type}</span>
          </header>

          <p class="project-desc">{p.description}</p>

          <ul class="project-tags">
            {p.tags.map((t) => (
              <li class="tag" data-group={groupFromTag(t)}>{t}</li>
            ))}
          </ul>

          <a class="project-cta" href={p.repo} target="_blank" rel="noopener noreferrer">
            Ver proyecto â†’
          </a>
          {p?.demo && (
            <a class="project-cta" style="margin-left:.6rem" href={p.demo} target="_blank" rel="noopener noreferrer">
              Ver demo â†’
            </a>
          )}
        </article>
      ))}
    </div>
  </section>
</section>

<!-- Footer -->
<footer class="footer-contacto">
  <a href="https://github.com/Miussette" target="_blank" rel="noopener noreferrer">
    <img src="/icons/github.svg" alt="GitHub" />
  </a>
  <a href="https://linkedin.com/in/miu-alfaro" target="_blank" rel="noopener noreferrer">
    <img src="/icons/linkedin.svg" alt="LinkedIn" />
  </a>
  <a href="mailto:miualfaro.contacto@gmail.com">
    <img src="/icons/mail.svg" alt="Correo" />
  </a>
</footer>
